#jinja2: trim_blocks:False
# A special ctlplane case for 'deployed servers'.
# Tripleo netconfig updates it afterwards.
network_config:
- type: ovs_bridge
  name: br-ctlplane
  mtu: {{ interface_mtu }}
  use_dhcp: false
  dns_servers:
  {% if dns_server %}
  - {{ dns_server }}
  {% endif %}
  - {{ gateway_ip }}
  domain: []
  addresses:
  - ip_netmask: {{ ctlplane_ip }}/{{ ctlplane_cidr }}
  routes: []
  members:
  - type: interface
    name: {{ os_net_config_iface | default(nic1) }}
    mtu: {{ interface_mtu }}
    # force the MAC address of the bridge to this interface
    primary: true
